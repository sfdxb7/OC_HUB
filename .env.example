# ============================================
# DCAI Intelligence Platform - Environment Variables
# ============================================
# Copy this file to .env and fill in the values marked [FILL]
# Generated: 2026-01-03
# ============================================

# ============================================
# LLM CONFIGURATION (OpenRouter)
# ============================================
# Get your API key from: https://openrouter.ai/keys
OPENROUTER_API_KEY=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
OPENROUTER_BASE_URL=https://openrouter.ai/api/v1

# Model selection - ALL Gemini 3 Flash for consistency
# 93% JSON validity, native PDF, low hallucinations
LLM_MODEL_CHAT=google/gemini-3-flash-preview
LLM_MODEL_REASONING=google/gemini-3-flash-preview
LLM_MODEL_FAST=google/gemini-3-flash-preview
LLM_MODEL_EXTRACTION=google/gemini-3-flash-preview

# Fallback model if primary fails
LLM_MODEL_FALLBACK=google/gemini-2.5-flash

# ============================================
# RAGFLOW CONFIGURATION
# ============================================
# RAGFlow handles: vectors, knowledge graph, retrieval
# Default port is 9380, change if running elsewhere
RAGFLOW_URL=http://localhost:9380
RAGFLOW_API_KEY=ragflow-BjzhB7GzV1Vi680U17VAJEgcrPLwq-5fBwVd4CZT0DM                              # Generated after RAGFlow first run - check RAGFlow UI

# GraphRAG Settings
RAGFLOW_ENABLE_GRAPH=true
RAGFLOW_GRAPH_METHOD=graphrag                 # Options: graphrag, lightrag (lightrag is faster)
RAGFLOW_ENTITY_TYPES=person,organization,policy,initiative,technology,country,statistic,recommendation,risk,opportunity

# Chunking settings
RAGFLOW_CHUNK_SIZE=512
RAGFLOW_CHUNK_OVERLAP=50

# ============================================
# SUPABASE CONFIGURATION (Your existing VPS instance)
# ============================================
# Your Supabase instance URL (e.g., https://your-project.supabase.co or self-hosted URL)
SUPABASE_URL=https://mysupabase.alfalasi.io
SUPABASE_ANON_KEY=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpYXQiOjE3NjU2MzYwNjgsImV4cCI6MTg5MzQ1NjAwMCwicm9sZSI6ImFub24iLCJpc3MiOiJzdXBhYmFzZSJ9.volY47LuEdk03pgGemrwY0BaTGwMxhQeb35eQ9OvBos

SUPABASE_SERVICE_KEY=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpYXQiOjE3NjU2MzYwNjgsImV4cCI6MTg5MzQ1NjAwMCwicm9sZSI6InNlcnZpY2Vfcm9sZSIsImlzcyI6InN1cGFiYXNlIn0.4BsCz8Xs9TOlUnoAgDmfcxfIOGYBAdmjB3ddX5eRcZE

# Direct database connection (for migrations and backend)
# Format: postgresql://postgres:[password]@[host]:[port]/postgres
DATABASE_URL=postgresql://postgres:lqc5gesmcwffmu6nyhufxrwi92x0lxqy@localhost:5432/postgres
# If using Supabase pooler (recommended for production)
DATABASE_URL_POOLED=[FILL - optional, from Supabase dashboard]

# ============================================
# AUTHENTICATION
# ============================================
# JWT secret for token signing (min 32 characters)
# Generate with: openssl rand -base64 32
JWT_SECRET=kd3anu16cgqadnxzffhm8vuqrlbh9nvu
# Session settings
SESSION_EXPIRY_HOURS=24
REFRESH_TOKEN_EXPIRY_DAYS=7

# ============================================
# ADMIN USER (First user - pre-created)
# ============================================
ADMIN_EMAIL=s.falasi@gmail.com
ADMIN_PASSWORD=Bu3askoor@5057

# ============================================
# WEB SEARCH & NEWS
# ============================================
# Firecrawl - for scraping full news articles
# Get API key from: https://firecrawl.dev
FIRECRAWL_API_KEY=fc-alfalasi-firecrawl-2026-secure-key-7x9p2q4w
FIRECRAWL_URL=https://myfirecrawl.alfalasi.io/
# Tavily - for real-time web search in Digital Minister
# Get API key from: https://tavily.com
TAVILY_API_KEY=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

# News sources to monitor (comma-separated RSS/URLs)
NEWS_SOURCES=https://www.deeplearning.ai/the-batch/,https://jack-clark.net/,https://www.technologyreview.com/feed/,https://www.wired.com/feed/tag/ai/latest/rss,https://importai.substack.com/feed

# News refresh interval (in minutes)
NEWS_REFRESH_INTERVAL=60

# ============================================
# APPLICATION URLS
# ============================================
# Production URLs
NEXT_PUBLIC_APP_URL=https://myintel.alfalasi.io
NEXT_PUBLIC_API_URL=https://api.myintel.alfalasi.io

# Development URLs (uncomment for local dev)
# NEXT_PUBLIC_APP_URL=http://localhost:3000
# NEXT_PUBLIC_API_URL=http://localhost:8000

# CORS allowed origins (comma-separated)
CORS_ORIGINS=https://myintel.alfalasi.io,http://localhost:3000

# ============================================
# DOKPLOY DEPLOYMENT
# ============================================
DOKPLOY_URL=https://mydokploy.alfalasi.io
DOKPLOY_API_KEY=codemrCFPvECrSRspidaioIYmiMLXxLRaPQcDAhupuCOupQcldSvwSwZaHrwriNhBwSX

# ============================================
# LOCAL PATHS (For document processing)
# ============================================
# Path to MinerU processed reports on your local machine
MINERU_REPORTS_PATH=C:\myprojects\REVIEW\NewHUB\processed_reports_mineru

# Temporary processing directory
TEMP_PROCESSING_PATH=C:\myprojects\OC_HUB\temp

# ============================================
# LOGGING & MONITORING
# ============================================
LOG_LEVEL=INFO                                # DEBUG, INFO, WARNING, ERROR
LOG_FORMAT=json                               # json or text
ENABLE_REQUEST_LOGGING=true

# Optional: Sentry for error tracking
# SENTRY_DSN=[FILL - optional]

# ============================================
# RATE LIMITING
# ============================================
# Requests per minute per user
RATE_LIMIT_CHAT=30
RATE_LIMIT_SEARCH=60
RATE_LIMIT_UPLOAD=10

# ============================================
# FEATURE FLAGS
# ============================================
ENABLE_DIGITAL_MINISTER=true
ENABLE_NEWS_ANALYSIS=true
ENABLE_MEETING_PREP=true
ENABLE_DATA_BANK=true
ENABLE_GRAPH_VISUALIZATION=true

# ============================================
# PROCESSING SETTINGS
# ============================================
# Max concurrent document processing jobs
MAX_CONCURRENT_PROCESSING=5

# Timeout for LLM calls (in seconds)
LLM_TIMEOUT_CHAT=60
LLM_TIMEOUT_REASONING=180                     # Digital Minister needs more time
LLM_TIMEOUT_EXTRACTION=120

# Max tokens for responses
MAX_TOKENS_CHAT=4096
MAX_TOKENS_REASONING=8192
MAX_TOKENS_EXTRACTION=8192

# ============================================
# EMBEDDING SETTINGS
# ============================================
# RAGFlow handles embeddings, but if using external:
# EMBEDDING_MODEL=text-embedding-3-small
# EMBEDDING_DIMENSION=1536
